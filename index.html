===== FILE: index.tsx =====
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

===== FILE: metadata.json =====
{
  "name": "Convertix AI",
  "description": "High-converting, custom-built websites using modern AI workflows.",
  "requestFramePermissions": []
}

===== FILE: index.html =====
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertix AI | High-Converting Websites</title>
    <meta name="description" content="Custom-built, conversion-focused websites using modern AI—designed to help businesses grow faster.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6', // Electric Blue
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a',
                        },
                        accent: {
                            400: '#22d3ee',
                            500: '#06b6d4', // Neon Cyan
                            600: '#0891b2',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Utilities from original code */
        .glass-nav {
            background: rgba(2, 6, 23, 0.7);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.03);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .glass-card:hover {
            border: 1px solid rgba(6, 182, 212, 0.3);
            box-shadow: 0 0 30px rgba(6, 182, 212, 0.15);
        }

        .text-gradient {
            background: linear-gradient(135deg, #22d3ee 0%, #3b82f6 50%, #8b5cf6 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(34, 211, 238, 0.2);
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }

        /* Modal transitions */
        .modal-overlay {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2"
  }
}
</script>
</head>
<body class="font-sans text-slate-400 antialiased bg-slate-950 selection:bg-primary-500 selection:text-white">
    <div id="root"></div>
</body>
</html>

===== FILE: components/types.ts =====
export interface Project {
  title: string;
  category: string;
  image: string;
  desc: string;
  tags: string[];
}

export interface FaqItem {
  question: string;
  answer: string;
}

===== FILE: constants.ts =====
import { Project, FaqItem } from './types';

export const projects: Project[] = [
  {
    title: "Bloom & Wild",
    category: "E-Commerce",
    image: "https://images.unsplash.com/photo-1556742049-0cfed4f7a07d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "A bespoke flower delivery platform. I used AI to generate unique product descriptions for over 50 items and optimized images for lightning-fast loading speeds on mobile.",
    tags: ["Shopify", "Midjourney Assets", "SEO"]
  },
  {
    title: "Lens & Light",
    category: "Portfolio",
    image: "https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "A high-end photography portfolio designed to showcase visuals without distraction. Includes a client proofing area.",
    tags: ["React", "Tailwind", "Gallery"]
  },
  {
    title: "TechFlow SaaS",
    category: "Landing Page",
    image: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "Focused on conversion rate optimization (CRO). We A/B tested headlines generated by AI to find the winning combination that increased signups by 40%.",
    tags: ["Webflow", "Copywriting", "Analytics"]
  },
  {
    title: "Sarah Finance",
    category: "Service Business",
    image: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "A clean, professional site for a financial consultant. Features automated Calendly booking integration and a secure client portal.",
    tags: ["Wordpress", "Booking System", "Security"]
  },
  {
    title: "The Daily Grind",
    category: "Content / Blog",
    image: "https://images.unsplash.com/photo-1499750310159-5b5f09692064?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "A lifestyle blog designed for ad revenue. Structure optimized for Core Web Vitals to ensure high search engine ranking.",
    tags: ["Ghost CMS", "AdSense", "Newsletter"]
  },
  {
    title: "FitTrack App",
    category: "Web Application",
    image: "https://images.unsplash.com/photo-1555421689-d68471e189f2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
    desc: "Marketing site for a new fitness app. Features complex CSS animations and 3D device mockups created with AI tools.",
    tags: ["Three.js", "Animation", "App Store"]
  }
];

export const faqs: FaqItem[] = [
  {
    question: "How does \"AI-Powered\" help me?",
    answer: "It means I use advanced tools to generate clean code, write SEO-friendly copy, and optimize images faster than traditional methods. This saves you money and gets your site live weeks sooner."
  },
  {
    question: "Do I own the website after it's done?",
    answer: "Absolutely. 100%. Once the final payment is made, I transfer all files, domains, and admin access to you. You are the sole owner."
  },
  {
    question: "What platform do you use?",
    answer: "It depends on your needs. For e-commerce, I usually suggest Shopify or Woocommerce. For business sites, I often use WordPress or custom code (React/Tailwind) for maximum speed."
  }
];

===== FILE: App.tsx =====
import React from 'react';
import Navbar from './components/Navbar';
import Hero from './components/Hero';
import WhyChooseMe from './components/WhyChooseMe';
import Services from './components/Services';
import Portfolio from './components/Portfolio';
import Process from './components/Process';
import About from './components/About';
import FAQ from './components/FAQ';
import Contact from './components/Contact';
import Footer from './components/Footer';
import { AuthProvider } from './contexts/AuthContext';

const App: React.FC = () => {
  return (
    <AuthProvider>
      <Navbar />
      <Hero />
      <WhyChooseMe />
      <Services />
      <Portfolio />
      <Process />
      <About />
      <FAQ />
      <Contact />
      <Footer />
    </AuthProvider>
  );
};

export default App;

===== FILE: components/Navbar.tsx =====
import React, { useState, useEffect } from 'react';
import { Menu, User, LogIn } from 'lucide-react';
import { useAuth } from '../contexts/AuthContext';
import AuthModal from './AuthModal';
import ClientPortal from './ClientPortal';

const Navbar: React.FC = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  
  // Auth Modal States
  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);
  const [isPortalOpen, setIsPortalOpen] = useState(false);
  
  const { user } = useAuth();

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 20) {
        setIsScrolled(true);
      } else {
        setIsScrolled(false);
      }
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const handleAuthClick = () => {
    if (user) {
      setIsPortalOpen(true);
    } else {
      setIsAuthModalOpen(true);
    }
    setIsMobileMenuOpen(false);
  };

  return (
    <>
      <nav 
        className={`fixed w-full top-0 z-50 glass-nav transition-all duration-300 ${isScrolled ? 'h-16 shadow-sm' : 'h-20'}`} 
        id="navbar"
      >
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
          <div className="flex justify-between items-center h-full">
            {/* Logo */}
            <a href="#" className="flex items-center gap-2 group">
              <div className="w-10 h-10 bg-gradient-to-br from-primary-500 to-accent-500 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-[0_0_25px_rgba(6,182,212,0.4)] group-hover:scale-105 transition-all duration-300">
                C
              </div>
              <span className="font-bold text-2xl tracking-tight text-white font-display group-hover:text-primary-300 transition-colors">
                Convertix<span className="text-accent-400">AI</span>
              </span>
            </a>

            {/* Desktop Menu */}
            <div className="hidden md:flex items-center space-x-8">
              <a href="#services" className="text-slate-300 hover:text-white font-medium transition-colors text-sm tracking-wide">Services</a>
              <a href="#portfolio" className="text-slate-300 hover:text-white font-medium transition-colors text-sm tracking-wide">Portfolio</a>
              <a href="#about" className="text-slate-300 hover:text-white font-medium transition-colors text-sm tracking-wide">About</a>
              
              <div className="flex items-center gap-4 ml-4">
                {/* Auth Button */}
                <button 
                  onClick={handleAuthClick}
                  className="flex items-center gap-2 text-slate-300 hover:text-white font-medium transition-colors text-sm"
                >
                  {user ? (
                    <>
                      <div className="w-8 h-8 rounded-full bg-primary-900/50 border border-primary-500/30 flex items-center justify-center text-primary-400">
                        <User className="w-4 h-4" />
                      </div>
                      <span className="max-w-[100px] truncate">{user.email?.split('@')[0]}</span>
                    </>
                  ) : (
                    <>
                      <LogIn className="w-4 h-4" /> Login
                    </>
                  )}
                </button>

                <a href="#contact" className="px-5 py-2.5 bg-white text-slate-900 font-medium rounded-full hover:bg-slate-100 transition-all hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] transform hover:-translate-y-0.5 text-sm">
                  Let's Talk
                </a>
              </div>
            </div>

            {/* Mobile Menu Button */}
            <div className="md:hidden flex items-center gap-4">
               {/* Mobile Auth Icon */}
               <button 
                  onClick={handleAuthClick}
                  className="text-slate-300 hover:text-white"
                >
                   {user ? <User className="w-5 h-5" /> : <LogIn className="w-5 h-5" />}
               </button>

              <button 
                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
                className="text-slate-300 hover:text-white focus:outline-none"
              >
                <Menu className="w-6 h-6" />
              </button>
            </div>
          </div>
        </div>

        {/* Mobile Menu Panel */}
        <div className={`${isMobileMenuOpen ? 'block' : 'hidden'} md:hidden bg-white border-t border-gray-100 absolute w-full shadow-lg`}>
          <div className="px-4 pt-2 pb-6 space-y-2">
            <a href="#services" onClick={() => setIsMobileMenuOpen(false)} className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50">Services</a>
            <a href="#portfolio" onClick={() => setIsMobileMenuOpen(false)} className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50">Portfolio</a>
            <a href="#about" onClick={() => setIsMobileMenuOpen(false)} className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50">About</a>
            
            <button 
              onClick={handleAuthClick}
              className="w-full text-left block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50"
            >
              {user ? 'My Client Portal' : 'Client Login'}
            </button>

            <a href="#contact" onClick={() => setIsMobileMenuOpen(false)} className="block px-3 py-2 mt-4 text-center rounded-md text-base font-medium bg-primary-600 text-white hover:bg-primary-700">Book a Call</a>
          </div>
        </div>
      </nav>

      <AuthModal isOpen={isAuthModalOpen} onClose={() => setIsAuthModalOpen(false)} />
      <ClientPortal isOpen={isPortalOpen} onClose={() => setIsPortalOpen(false)} />
    </>
  );
};

export default Navbar;

===== FILE: components/Hero.tsx =====
import React from 'react';
import { ArrowDown, ArrowRight, Hexagon, Triangle, Circle, Square } from 'lucide-react';

const Hero: React.FC = () => {
  return (
    <section className="pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden relative">
      {/* Abstract Background Shapes */}
      <div className="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-primary-500/20 rounded-full blur-[120px] -z-10 animate-pulse"></div>
      <div className="absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-accent-500/10 rounded-full blur-[120px] -z-10"></div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-900/50 border border-slate-700 shadow-sm mb-8 fade-in-up backdrop-blur-sm hover:border-primary-500/50 transition-colors">
          <span className="flex h-2 w-2 relative">
            <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
            <span className="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
          </span>
          <span className="text-sm font-medium text-slate-300">Limited Availability This Month</span>
        </div>

        <h1 className="text-4xl md:text-5xl lg:text-7xl font-bold font-display tracking-tight text-white mb-6 fade-in-up delay-100">
          AI-Powered Websites That Turn <br className="hidden lg:block" /> 
          <span className="text-transparent bg-clip-text bg-gradient-to-r from-accent-400 via-primary-400 to-accent-500 drop-shadow-[0_0_15px_rgba(34,211,238,0.3)]">
             Visitors Into Customers
          </span>
        </h1>

        <p className="mt-4 max-w-2xl mx-auto text-xl text-slate-400 mb-10 fade-in-up delay-200 leading-relaxed">
          Custom-built, conversion-focused websites using modern AI—designed to help businesses grow faster.
        </p>

        <div className="flex flex-col sm:flex-row gap-4 justify-center items-center fade-in-up delay-300">
          <a href="#portfolio" className="w-full sm:w-auto px-8 py-4 bg-slate-800/50 text-white border border-slate-700 rounded-xl font-semibold hover:border-slate-500 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 group backdrop-blur-sm">
            See My Work
            <ArrowDown className="w-4 h-4 group-hover:translate-y-1 transition-transform" />
          </a>
          <a href="#contact" className="w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-xl font-semibold shadow-[0_0_20px_rgba(59,130,246,0.4)] hover:shadow-[0_0_40px_rgba(6,182,212,0.6)] hover:bg-gradient-to-r hover:from-primary-500 hover:to-accent-500 hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/10">
            Book a Free Strategy Call
            <ArrowRight className="w-4 h-4" />
          </a>
        </div>

        {/* Social Proof Strip */}
        <div className="mt-16 pt-8 border-t border-slate-800 fade-in-up delay-300">
          <p className="text-sm text-slate-500 font-medium mb-4 uppercase tracking-wider">Trusted by modern businesses</p>
          <div className="flex flex-wrap justify-center gap-8 md:gap-16 opacity-50 grayscale hover:grayscale-0 transition-all duration-500">
            {/* Placeholder Logos */}
            <div className="flex items-center gap-2 font-bold text-xl text-white">
              <Hexagon className="fill-slate-600 text-transparent stroke-2 stroke-slate-600" /> Nexus
            </div>
            <div className="flex items-center gap-2 font-bold text-xl text-white">
              <Triangle className="fill-slate-600 text-transparent stroke-2 stroke-slate-600" /> Vertex
            </div>
            <div className="flex items-center gap-2 font-bold text-xl text-white">
              <Circle className="fill-slate-600 text-transparent stroke-2 stroke-slate-600" /> Sphere
            </div>
            <div className="flex items-center gap-2 font-bold text-xl text-white">
              <Square className="fill-slate-600 text-transparent stroke-2 stroke-slate-600" /> Cube
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Hero;

===== FILE: components/WhyChooseMe.tsx =====
import React from 'react';
import { Zap, Cpu, Layout, TrendingUp } from 'lucide-react';

const WhyChooseMe: React.FC = () => {
  const features = [
    {
      icon: <Zap className="w-6 h-6" />,
      title: "Fast Delivery",
      desc: "Launch your site in days, not months, using my accelerated AI workflows."
    },
    {
      icon: <Cpu className="w-6 h-6" />,
      title: "AI-Optimized",
      desc: "Built with the latest tech for superior performance and automated efficiency."
    },
    {
      icon: <Layout className="w-6 h-6" />,
      title: "No Templates",
      desc: "100% custom designs tailored to your specific brand and business goals."
    },
    {
      icon: <TrendingUp className="w-6 h-6" />,
      title: "Business-Focused",
      desc: "Design that prioritizes ROI, lead generation, and customer conversion."
    }
  ];

  return (
    <section className="py-20 bg-slate-900 border-b border-slate-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center max-w-2xl mx-auto mb-16">
          <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">Why Choose Me</h2>
          <h2 className="mt-2 text-3xl font-bold font-display text-white">The Competitive Edge</h2>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          {features.map((feature, index) => (
            <div key={index} className="p-6 rounded-2xl bg-slate-800/50 border border-slate-700 hover:border-primary-500/50 transition-colors">
              <div className="w-12 h-12 bg-primary-900/50 rounded-lg flex items-center justify-center text-primary-400 mb-4">
                {feature.icon}
              </div>
              <h3 className="text-xl font-bold text-white mb-2">{feature.title}</h3>
              <p className="text-slate-400">{feature.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default WhyChooseMe;

===== FILE: components/Services.tsx =====
import React from 'react';
import { Monitor, BarChart3, Zap, Bot } from 'lucide-react';

const Services: React.FC = () => {
  const services = [
    {
      icon: <Monitor className="w-7 h-7" />,
      title: "AI Website Design & Development",
      desc: "Stunning, responsive websites built with code, not builders. I use AI to generate clean, scalable code that loads instantly and ranks higher."
    },
    {
      icon: <BarChart3 className="w-7 h-7" />,
      title: "Conversion Optimization",
      desc: "Traffic is useless without conversions. I implement strategic funnels, compelling CTAs, and A/B tested layouts to turn visitors into buyers."
    },
    {
      icon: <Zap className="w-7 h-7" />,
      title: "Speed & SEO Optimization",
      desc: "I aim for 100/100 Core Web Vitals. Your site will be technically perfect for Google, ensuring maximum organic visibility and minimal bounce rates."
    },
    {
      icon: <Bot className="w-7 h-7" />,
      title: "AI Chatbot Integration",
      desc: "Capture leads 24/7 with custom AI assistants that answer customer questions, book appointments, and guide users to purchase—even while you sleep."
    }
  ];

  return (
    <section id="services" className="py-20 bg-slate-950">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center max-w-3xl mx-auto mb-16">
          <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">Services</h2>
          <h2 className="mt-2 text-3xl leading-8 font-bold font-display tracking-tight text-white sm:text-4xl text-gradient">
            Comprehensive Digital Solutions
          </h2>
          <p className="mt-4 text-xl text-slate-400">Everything you need to establish a dominant online presence.</p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
          {services.map((service, index) => (
            <div key={index} className="relative glass-card rounded-2xl p-8 hover:shadow-[0_0_30px_rgba(139,92,246,0.1)] transition-all duration-300 group">
              <div className="w-14 h-14 bg-gradient-to-br from-primary-600 to-primary-800 rounded-xl flex items-center justify-center text-white mb-6 shadow-lg">
                {service.icon}
              </div>
              <h3 className="text-2xl font-bold text-white font-display mb-3">{service.title}</h3>
              <p className="text-slate-400 leading-relaxed">{service.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Services;

===== FILE: components/Portfolio.tsx =====
import React, { useState } from 'react';
import { X, ArrowRight } from 'lucide-react';
import { projects } from '../constants';
import { Project } from '../types';

const Portfolio: React.FC = () => {
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);

  const openModal = (project: Project) => {
    setSelectedProject(project);
    document.body.style.overflow = 'hidden';
  };

  const closeModal = () => {
    setSelectedProject(null);
    document.body.style.overflow = '';
  };

  return (
    <section id="portfolio" className="py-20 bg-slate-900">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex flex-col md:flex-row justify-between items-end mb-12">
          <div className="max-w-2xl">
            <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">My Work</h2>
            <p className="mt-2 text-3xl font-bold text-white font-display">Recent Projects</p>
            <p className="mt-4 text-slate-400">A selection of websites built for clients across various industries.</p>
          </div>
          {/* Filter buttons (Visual only) */}
          <div className="mt-4 md:mt-0 flex gap-2">
            <button className="px-4 py-2 bg-gray-900 text-white text-sm rounded-full">All</button>
            <button className="px-4 py-2 bg-white text-gray-600 hover:bg-gray-100 text-sm rounded-full border border-gray-200">E-com</button>
            <button className="px-4 py-2 bg-white text-gray-600 hover:bg-gray-100 text-sm rounded-full border border-gray-200">Landing</button>
          </div>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {projects.map((project, index) => (
            <div 
              key={index} 
              className={`group rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer ${
                project.category === 'E-Commerce' ? 'glass-card shadow-lg hover:shadow-primary-500/20' : 'bg-white'
              }`}
              onClick={() => openModal(project)}
            >
              <div className="relative overflow-hidden aspect-[4/3]">
                <img src={project.image} alt={project.title} className="object-cover w-full h-full group-hover:scale-105 transition-transform duration-500" />
                <div className="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                  <span className={`px-6 py-2 rounded-full font-medium transform translate-y-4 group-hover:translate-y-0 transition-transform ${
                    project.category === 'E-Commerce' ? 'bg-white text-slate-900' : 'bg-white text-gray-900'
                  }`}>
                    View Details
                  </span>
                </div>
              </div>
              <div className="p-6">
                <div className="flex justify-between items-start mb-2">
                  <h3 className={`text-lg font-bold font-display ${project.category === 'E-Commerce' ? 'text-white' : 'text-gray-900'}`}>
                    {project.title}
                  </h3>
                  <span className={`text-xs font-semibold px-2 py-1 rounded ${
                    project.category === 'E-Commerce' 
                      ? 'text-primary-300 bg-primary-900/50 border border-primary-700/50' 
                      : 'text-primary-600 bg-primary-50'
                  }`}>
                    {project.category}
                  </span>
                </div>
                <p className={`text-sm line-clamp-2 ${project.category === 'E-Commerce' ? 'text-slate-400' : 'text-gray-500'}`}>
                  {project.desc}
                </p>
              </div>
            </div>
          ))}
        </div>

        <div className="mt-12 text-center">
          <a href="#contact" className="text-primary-600 font-semibold hover:text-primary-700 flex items-center justify-center gap-2">
            Have a specific project in mind? Let's discuss <ArrowRight className="w-4 h-4" />
          </a>
        </div>
      </div>

      {/* Modal */}
      {selectedProject && (
        <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 modal-overlay" onClick={closeModal}>
          <div className="bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl relative modal-content" onClick={(e) => e.stopPropagation()}>
            <button onClick={closeModal} className="absolute top-4 right-4 p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors z-10">
              <X className="w-5 h-5 text-gray-600" />
            </button>

            <div className="grid grid-cols-1 md:grid-cols-2">
              <div className="h-64 md:h-auto">
                <img src={selectedProject.image} alt="Project Preview" className="w-full h-full object-cover" />
              </div>
              <div className="p-8 flex flex-col justify-center">
                <span className="text-xs font-bold text-primary-600 uppercase tracking-wide mb-2">{selectedProject.category}</span>
                <h3 className="text-3xl font-bold text-gray-900 mb-4">{selectedProject.title}</h3>
                <p className="text-gray-500 mb-6 leading-relaxed">{selectedProject.desc}</p>

                <div className="space-y-4">
                  <h4 className="font-semibold text-gray-900 text-sm uppercase">Tools Used:</h4>
                  <div className="flex flex-wrap gap-2">
                    {selectedProject.tags.map((tag, i) => (
                      <span key={i} className="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium">{tag}</span>
                    ))}
                  </div>
                </div>

                <div className="mt-8 pt-6 border-t border-gray-100">
                  <a href="#contact" onClick={closeModal} className="inline-flex items-center text-primary-600 font-semibold hover:text-primary-800">
                    Start a project like this <ArrowRight className="w-4 h-4 ml-2" />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </section>
  );
};

export default Portfolio;

===== FILE: components/Process.tsx =====
import React from 'react';

const Process: React.FC = () => {
  const steps = [
    { title: "Discover", desc: "We define your goals, audience, and key conversion metrics." },
    { title: "Design", desc: "I create a premium, custom UI layout tailored to your brand." },
    { title: "Build", desc: "AI-assisted coding ensuring clean, fast, and bug-free development." },
    { title: "Launch", desc: "Deployment, testing, and handover. You're ready to grow." },
  ];

  return (
    <section className="py-20 bg-slate-950 border-t border-slate-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center max-w-3xl mx-auto mb-16">
          <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">My Process</h2>
          <h2 className="mt-2 text-3xl font-bold font-display text-white">How We Build Your Vision</h2>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8 relative">
          {/* Connecting Line (Desktop) */}
          <div className="hidden md:block absolute top-12 left-[12%] right-[12%] h-0.5 bg-gradient-to-r from-primary-600/20 via-primary-500/50 to-primary-600/20 -z-10"></div>

          {steps.map((step, index) => (
            <div key={index} className="text-center relative">
              <div className="w-24 h-24 mx-auto bg-slate-900 border-4 border-slate-800 rounded-full flex items-center justify-center text-primary-400 text-2xl font-bold mb-6 z-10 relative shadow-[0_0_20px_rgba(139,92,246,0.2)]">
                {index + 1}
              </div>
              <h3 className="text-lg font-bold text-white mb-2">{step.title}</h3>
              <p className="text-sm text-slate-400">{step.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Process;

===== FILE: components/About.tsx =====
import React from 'react';
import { Quote, Star } from 'lucide-react';

const About: React.FC = () => {
  return (
    <section id="about" className="py-20 bg-slate-950 border-t border-slate-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          {/* About Content */}
          <div>
            <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">About Me</h2>
            <h3 className="mt-2 text-3xl font-bold text-white font-display">More than just a designer.</h3>
            <p className="mt-6 text-lg text-slate-400 leading-relaxed">
              Hi, I'm Alex. I'm a solo web designer who believes that great websites shouldn't take months to build.
            </p>
            <p className="mt-4 text-lg text-gray-500 leading-relaxed">
              By leveraging advanced AI tools for coding, copywriting, and layout generation, I'm able to deliver agency-quality work at a fraction of the cost and time. I focus on strategy and aesthetics, letting technology handle the repetitive tasks.
            </p>

            <div className="mt-8 flex gap-4">
              <div className="flex flex-col">
                <span className="text-3xl font-bold text-gray-900 text-white">50+</span>
                <span className="text-sm text-gray-500">Projects Launched</span>
              </div>
              <div className="w-px bg-gray-700"></div>
              <div className="flex flex-col">
                <span className="text-3xl font-bold text-gray-900 text-white">100%</span>
                <span className="text-sm text-gray-500">On-Time Delivery</span>
              </div>
            </div>
          </div>

          {/* Testimonials */}
          <div className="bg-gray-50 rounded-2xl p-8 relative">
            <Quote className="w-12 h-12 text-primary-200 absolute top-6 left-6 -z-10" />

            <div className="space-y-8">
              {/* Testimonial 1 */}
              <div className="bg-white p-6 rounded-xl shadow-sm">
                <div className="flex items-center gap-1 text-yellow-400 mb-2">
                  {[...Array(5)].map((_, i) => <Star key={i} className="w-4 h-4 fill-current" />)}
                </div>
                <p className="text-gray-600 italic">"Alex built our entire e-commerce site in two weeks. The AI-generated copy was surprisingly spot-on, and the design is beautiful."</p>
                <div className="mt-4 flex items-center gap-3">
                  <div className="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500">JD</div>
                  <div>
                    <p className="text-sm font-bold text-gray-900">John Doe</p>
                    <p className="text-xs text-gray-500">Founder, Bloom & Wild</p>
                  </div>
                </div>
              </div>

              {/* Testimonial 2 */}
              <div className="bg-white p-6 rounded-xl shadow-sm">
                <div className="flex items-center gap-1 text-yellow-400 mb-2">
                  {[...Array(5)].map((_, i) => <Star key={i} className="w-4 h-4 fill-current" />)}
                </div>
                <p className="text-gray-600 italic">"Professional, fast, and easy to work with. The site looks better than my competitors who spent double."</p>
                <div className="mt-4 flex items-center gap-3">
                  <div className="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500">SS</div>
                  <div>
                    <p className="text-sm font-bold text-gray-900">Sarah Smith</p>
                    <p className="text-xs text-gray-500">Financial Consultant</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default About;

===== FILE: components/FAQ.tsx =====
import React from 'react';
import { ChevronDown } from 'lucide-react';
import { faqs } from '../constants';

const FAQ: React.FC = () => {
  return (
    <section id="faq" className="py-20 bg-slate-900">
      <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 className="text-3xl font-bold text-white font-display text-center mb-10">Frequently Asked Questions</h2>

        <div className="space-y-4">
          {faqs.map((faq, index) => (
            <details key={index} className="group bg-white rounded-lg p-6 shadow-sm [&_summary::-webkit-details-marker]:hidden cursor-pointer">
              <summary className="flex items-center justify-between gap-1.5 font-medium text-gray-900">
                <span>{faq.question}</span>
                <ChevronDown className="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" />
              </summary>
              <p className="mt-4 text-gray-500 leading-relaxed">
                {faq.answer}
              </p>
            </details>
          ))}
        </div>
      </div>
    </section>
  );
};

export default FAQ;

===== FILE: components/Contact.tsx =====
import React, { useState } from 'react';
import { Mail, MessageCircle, Calendar, CheckCircle, AlertCircle, Loader2, Database, Copy } from 'lucide-react';
import { supabase } from '../supabaseClient';

const Contact: React.FC = () => {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    service: 'Landing Page',
    message: ''
  });
  const [status, setStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');
  const [errorMessage, setErrorMessage] = useState('');
  const [sqlFix, setSqlFix] = useState<string | null>(null);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    setFormData(prev => ({
      ...prev,
      [e.target.id]: e.target.value
    }));
  };

  const copyToClipboard = (text: string) => {
    navigator.clipboard.writeText(text);
    alert('SQL copied to clipboard!');
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setStatus('loading');
    setErrorMessage('');
    setSqlFix(null);

    try {
      // Sending data to 'contact_messages' table
      // We do NOT use .select() here because that requires a SELECT policy (Read access),
      // which we don't want to grant to the public for privacy reasons.
      const { error } = await supabase
        .from('contact_messages')
        .insert([
          { 
            name: formData.name, 
            email: formData.email, 
            service: formData.service, 
            message: formData.message,
            created_at: new Date().toISOString()
          }
        ]);

      if (error) {
        throw error;
      }

      setStatus('success');
      setFormData({ name: '', email: '', service: 'Landing Page', message: '' });
      
    } catch (err: any) {
      console.error('Error submitting form details:', JSON.stringify(err, null, 2));
      
      let msg = 'Failed to send message.';
      
      // Check for specific Supabase error codes
      if (err?.code === 'PGRST205') {
        msg = 'Database Error: Table "contact_messages" not found.';
        const sql = `create table contact_messages (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text,
  email text,
  service text,
  message text
);
alter table contact_messages enable row level security;
create policy "Enable insert for everyone" on contact_messages for insert with check (true);`;
        setSqlFix(sql);
      } else if (err?.code === '42501') {
        msg = 'Permission Error: RLS Policy Violation.';
        // This SQL fixes the specific 42501 error by ensuring the INSERT policy exists
        const sql = `drop policy if exists "Enable insert for everyone" on contact_messages;

create policy "Enable insert for everyone" 
on contact_messages 
for insert 
with check (true);`;
        setSqlFix(sql);
      }
      else {
        // Heuristic to detect common config errors
        const errString = JSON.stringify(err).toLowerCase();
        if (errString.includes('apikey') || errString.includes('auth') || errString.includes('401')) {
           msg = 'Authentication Error: Please check your Supabase API Key (anon public key) in supabaseClient.ts.';
        } else if (errString.includes('policy') || errString.includes('permission')) {
           msg = 'Permission Error: Please check Row Level Security (RLS) policies on your Supabase table.';
        } else if (typeof err === 'string') {
          msg = err;
        } else if (err && typeof err === 'object') {
          if (err.message) {
            msg = err.message;
          } else if (err.error_description) {
            msg = err.error_description;
          } else if (err.details) {
            msg = err.details;
          }
        }
      }

      setStatus('error');
      setErrorMessage(msg);
    }
  };

  return (
    <section id="contact" className="py-20 bg-slate-950">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-16">
          {/* Contact Info */}
          <div>
            <h2 className="text-base text-primary-400 font-semibold tracking-wide uppercase">Get In Touch</h2>
            <h3 className="mt-2 text-3xl font-bold text-white font-display">Ready to Build a Website That Actually Converts?</h3>
            <p className="mt-4 text-lg text-slate-400">
              Don't let another customer slip away. Book your free strategy call today and let's discuss how we can grow your business.
            </p>

            <div className="mt-8 space-y-6">
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 bg-primary-50 rounded-lg flex items-center justify-center text-primary-600">
                  <Mail className="w-6 h-6" />
                </div>
                <div>
                  <p className="text-sm font-medium text-gray-900 text-white">Email Me</p>
                  <a href="mailto:hello@alexdev.com" className="text-gray-500 text-slate-400 hover:text-primary-600 transition-colors">hello@alexdev.com</a>
                </div>
              </div>
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center text-green-600">
                  <MessageCircle className="w-6 h-6" />
                </div>
                <div>
                  <p className="text-sm font-medium text-gray-900 text-white">WhatsApp</p>
                  <a href="#" className="text-gray-500 text-slate-400 hover:text-green-600 transition-colors">+1 (555) 123-4567</a>
                </div>
              </div>
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center text-purple-600">
                  <Calendar className="w-6 h-6" />
                </div>
                <div>
                  <p className="text-sm font-medium text-gray-900 text-white">Book a Call</p>
                  <a href="#" className="text-gray-500 text-slate-400 hover:text-purple-600 transition-colors">View Calendly Availability</a>
                </div>
              </div>
            </div>
          </div>

          {/* Contact Form */}
          <div className="bg-gray-50 rounded-2xl p-8 shadow-sm relative overflow-hidden min-h-[480px]">
            {status === 'success' ? (
              <div className="absolute inset-0 bg-white flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-300">
                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
                  <CheckCircle className="w-8 h-8 text-green-600" />
                </div>
                <h3 className="text-2xl font-bold text-gray-900 mb-2">Message Sent!</h3>
                <p className="text-gray-600">Thanks for reaching out. I've received your details and will be in touch shortly.</p>
                <button 
                  onClick={() => setStatus('idle')}
                  className="mt-6 px-6 py-2 bg-gray-100 text-gray-700 font-medium rounded-full hover:bg-gray-200 transition-colors"
                >
                  Send another message
                </button>
              </div>
            ) : (
              <form onSubmit={handleSubmit} className="space-y-6">
                <div>
                  <label htmlFor="name" className="block text-sm font-medium text-gray-700">Name</label>
                  <input 
                    type="text" 
                    id="name" 
                    required 
                    value={formData.name}
                    onChange={handleChange}
                    className="mt-1 block w-full px-4 py-3 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm bg-white border outline-none transition-colors" 
                    placeholder="Your Name" 
                  />
                </div>

                <div>
                  <label htmlFor="email" className="block text-sm font-medium text-gray-700">Email</label>
                  <input 
                    type="email" 
                    id="email" 
                    required 
                    value={formData.email}
                    onChange={handleChange}
                    className="mt-1 block w-full px-4 py-3 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm bg-white border outline-none transition-colors" 
                    placeholder="you@company.com" 
                  />
                </div>

                <div>
                  <label htmlFor="service" className="block text-sm font-medium text-gray-700">Interested In</label>
                  <select 
                    id="service" 
                    value={formData.service}
                    onChange={handleChange}
                    className="mt-1 block w-full px-4 py-3 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm bg-white border outline-none transition-colors"
                  >
                    <option>Landing Page</option>
                    <option>Full Website</option>
                    <option>E-Commerce</option>
                    <option>Other</option>
                  </select>
                </div>

                <div>
                  <label htmlFor="message" className="block text-sm font-medium text-gray-700">Message</label>
                  <textarea 
                    id="message" 
                    rows={4} 
                    required 
                    value={formData.message}
                    onChange={handleChange}
                    className="mt-1 block w-full px-4 py-3 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm bg-white border outline-none transition-colors" 
                    placeholder="Tell me a bit about your project..."
                  ></textarea>
                </div>

                {status === 'error' && (
                  <div className="flex flex-col gap-2 text-red-600 text-sm bg-red-50 p-4 rounded-md border border-red-100">
                    <div className="flex items-center gap-2">
                      <AlertCircle className="w-5 h-5 flex-shrink-0" />
                      <span className="leading-relaxed font-semibold">{errorMessage}</span>
                    </div>
                    {sqlFix && (
                      <div className="mt-2 text-slate-700">
                        <p className="mb-2 text-xs uppercase font-bold tracking-wide text-slate-500 flex items-center gap-2">
                          <Database className="w-3 h-3" /> Solution: Run this in Supabase SQL Editor
                        </p>
                        <div className="relative group">
                          <pre className="bg-slate-900 text-slate-300 p-3 rounded text-xs overflow-x-auto whitespace-pre-wrap font-mono border border-slate-700">
                            {sqlFix}
                          </pre>
                          <button 
                            type="button"
                            onClick={() => copyToClipboard(sqlFix)}
                            className="absolute top-2 right-2 p-1 bg-slate-700 hover:bg-slate-600 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity"
                            title="Copy SQL"
                          >
                            <Copy className="w-3 h-3" />
                          </button>
                        </div>
                      </div>
                    )}
                  </div>
                )}

                <button 
                  type="submit" 
                  disabled={status === 'loading'}
                  className="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-colors disabled:opacity-70 disabled:cursor-not-allowed"
                >
                  {status === 'loading' ? (
                    <span className="flex items-center gap-2">
                      <Loader2 className="w-4 h-4 animate-spin" /> Sending...
                    </span>
                  ) : (
                    "Send Message"
                  )}
                </button>
              </form>
            )}
          </div>
        </div>
      </div>
    </section>
  );
};

export default Contact;

===== FILE: components/Footer.tsx =====
import React from 'react';
import { Twitter, Linkedin, Instagram } from 'lucide-react';

const Footer: React.FC = () => {
  return (
    <footer className="bg-slate-900 border-t border-slate-800 pt-16 pb-8">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex flex-col md:flex-row justify-between items-center mb-8">
          <a href="#" className="flex items-center gap-2 mb-4 md:mb-0">
            <div className="w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-500 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-[0_0_15px_rgba(139,92,246,0.5)]">
              C
            </div>
            <span className="font-bold text-xl text-white font-display">
              Convertix<span className="text-primary-400">AI</span>
            </span>
          </a>

          <div className="flex space-x-6">
            <a href="#" className="text-gray-400 hover:text-gray-900 text-slate-400 hover:text-white"><Twitter className="w-5 h-5" /></a>
            <a href="#" className="text-gray-400 hover:text-gray-900 text-slate-400 hover:text-white"><Linkedin className="w-5 h-5" /></a>
            <a href="#" className="text-gray-400 hover:text-gray-900 text-slate-400 hover:text-white"><Instagram className="w-5 h-5" /></a>
          </div>
        </div>

        <div className="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-500">
          <p>&copy; 2024 Convertix AI. All rights reserved.</p>
          <div className="flex space-x-6 mt-4 md:mt-0">
            <a href="#" className="hover:text-gray-900 hover:text-white">Privacy Policy</a>
            <a href="#" className="hover:text-gray-900 hover:text-white">Terms of Service</a>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;

===== FILE: supabaseClient.ts =====
import { createClient } from '@supabase/supabase-js';

// Configuration
const supabaseUrl = 'https://ubwwrqpffufeppymmhqz.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVid3dycXBmZnVmZXBweW1taHF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1Mzk4MjUsImV4cCI6MjA4NDExNTgyNX0.GDMs9q0npPTq6oK-Tpwapv0gCppgkvAMG1tftb-HNuY';

export const supabase = createClient(supabaseUrl, supabaseKey);

===== FILE: schema.sql =====
-- Run this in your Supabase SQL Editor to setup the database

-- 1. Create the table for contact form submissions if it doesn't exist
create table if not exists public.contact_messages (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text,
  email text,
  service text,
  message text
);

-- 2. Enable Row Level Security (RLS) for contact_messages
alter table public.contact_messages enable row level security;

-- 3. Create the policy to allow public inserts
drop policy if exists "Enable insert for everyone" on public.contact_messages;
create policy "Enable insert for everyone" 
on public.contact_messages 
for insert 
with check (true);

-- =========================================================
-- NEW: USER PROFILES SETUP
-- =========================================================

-- 4. Create a profiles table to hold user information
create table if not exists public.profiles (
  id uuid references auth.users on delete cascade not null primary key,
  updated_at timestamp with time zone,
  full_name text,
  company_name text,
  website text,
  phone text,
  avatar_url text
);

-- 5. Enable RLS on profiles
alter table public.profiles enable row level security;

-- 6. Create policies for profiles
drop policy if exists "Public profiles are viewable by everyone." on profiles;
create policy "Public profiles are viewable by everyone." 
  on profiles for select using ( true );

drop policy if exists "Users can insert their own profile." on profiles;
create policy "Users can insert their own profile." 
  on profiles for insert with check ( auth.uid() = id );

drop policy if exists "Users can update own profile." on profiles;
create policy "Users can update own profile." 
  on profiles for update using ( auth.uid() = id );

-- 7. Create a trigger to automatically create a profile entry when a user signs up via Supabase Auth
create or replace function public.handle_new_user() 
returns trigger as $$
begin
  insert into public.profiles (id, full_name, avatar_url)
  values (
    new.id, 
    new.raw_user_meta_data->>'full_name', 
    new.raw_user_meta_data->>'avatar_url'
  );
  return new;
end;
$$ language plpgsql security definer;

-- Trigger the function every time a user is created
drop trigger if exists on_auth_user_created on auth.users;
create trigger on_auth_user_created
  after insert on auth.users
  for each row execute procedure public.handle_new_user();

===== FILE: contexts/AuthContext.tsx =====
import React, { createContext, useContext, useEffect, useState } from 'react';
import { Session, User } from '@supabase/supabase-js';
import { supabase } from '../supabaseClient';

interface AuthContextType {
  session: Session | null;
  user: User | null;
  signOut: () => Promise<void>;
  loading: boolean;
}

const AuthContext = createContext<AuthContextType>({
  session: null,
  user: null,
  signOut: async () => {},
  loading: true,
});

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [session, setSession] = useState<Session | null>(null);
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Check active session on mount
    supabase.auth.getSession().then(({ data: { session } }) => {
      setSession(session);
      setUser(session?.user ?? null);
      setLoading(false);
    });

    // Listen for auth changes (login, logout, etc.)
    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
      setSession(session);
      setUser(session?.user ?? null);
      setLoading(false);
    });

    return () => subscription.unsubscribe();
  }, []);

  const signOut = async () => {
    await supabase.auth.signOut();
  };

  return (
    <AuthContext.Provider value={{ session, user, signOut, loading }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => {
  return useContext(AuthContext);
};

===== FILE: components/AuthModal.tsx =====
import React, { useState } from 'react';
import { X, Mail, Lock, User, Loader2, ArrowRight } from 'lucide-react';
import { supabase } from '../supabaseClient';

interface AuthModalProps {
  isOpen: boolean;
  onClose: () => void;
}

const AuthModal: React.FC<AuthModalProps> = ({ isOpen, onClose }) => {
  const [isLogin, setIsLogin] = useState(true);
  const [loading, setLoading] = useState(false);
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [fullName, setFullName] = useState('');
  const [errorMsg, setErrorMsg] = useState('');

  if (!isOpen) return null;

  const handleAuth = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    setErrorMsg('');

    try {
      if (isLogin) {
        const { error } = await supabase.auth.signInWithPassword({
          email,
          password,
        });
        if (error) throw error;
        onClose(); // Close modal on success
      } else {
        const { error } = await supabase.auth.signUp({
          email,
          password,
          options: {
            data: {
              full_name: fullName, // Store name in metadata to be used by the SQL trigger
            }
          }
        });
        if (error) throw error;
        alert('Check your email for the confirmation link!');
        onClose();
      }
    } catch (error: any) {
      setErrorMsg(error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 modal-overlay">
      <div 
        className="bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-md shadow-2xl relative modal-content overflow-hidden" 
        onClick={(e) => e.stopPropagation()}
      >
        {/* Header */}
        <div className="p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50">
          <h3 className="text-xl font-bold text-white font-display">
            {isLogin ? 'Welcome Back' : 'Create Account'}
          </h3>
          <button onClick={onClose} className="p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors">
            <X className="w-5 h-5" />
          </button>
        </div>

        {/* Body */}
        <div className="p-6 space-y-6">
          <form onSubmit={handleAuth} className="space-y-4">
            
            {/* Name Field - Only for Signup */}
            {!isLogin && (
              <div>
                <label className="block text-sm font-medium text-slate-400 mb-1">Full Name</label>
                <div className="relative">
                  <User className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                  <input
                    type="text"
                    required
                    value={fullName}
                    onChange={(e) => setFullName(e.target.value)}
                    className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                    placeholder="John Doe"
                  />
                </div>
              </div>
            )}

            <div>
              <label className="block text-sm font-medium text-slate-400 mb-1">Email Address</label>
              <div className="relative">
                <Mail className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                <input
                  type="email"
                  required
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                  placeholder="you@example.com"
                />
              </div>
            </div>

            <div>
              <label className="block text-sm font-medium text-slate-400 mb-1">Password</label>
              <div className="relative">
                <Lock className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                <input
                  type="password"
                  required
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                  placeholder="••••••••"
                />
              </div>
            </div>

            {errorMsg && (
              <div className="p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm">
                {errorMsg}
              </div>
            )}

            <button
              type="submit"
              disabled={loading}
              className="w-full bg-primary-600 hover:bg-primary-500 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2"
            >
              {loading ? <Loader2 className="w-5 h-5 animate-spin" /> : (
                <>
                  {isLogin ? 'Sign In' : 'Create Account'} <ArrowRight className="w-4 h-4" />
                </>
              )}
            </button>
          </form>

          <div className="text-center">
            <button
              onClick={() => { setIsLogin(!isLogin); setErrorMsg(''); }}
              className="text-sm text-slate-400 hover:text-white transition-colors"
            >
              {isLogin ? "Don't have an account? Sign up" : "Already have an account? Sign in"}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AuthModal;

===== FILE: components/ClientPortal.tsx =====
import React, { useState, useEffect } from 'react';
import { X, User, Briefcase, Globe, Phone, Save, Loader2, LogOut } from 'lucide-react';
import { supabase } from '../supabaseClient';
import { useAuth } from '../contexts/AuthContext';

interface ClientPortalProps {
  isOpen: boolean;
  onClose: () => void;
}

const ClientPortal: React.FC<ClientPortalProps> = ({ isOpen, onClose }) => {
  const { user, signOut } = useAuth();
  const [loading, setLoading] = useState(false);
  const [fetching, setFetching] = useState(true);
  
  const [profileData, setProfileData] = useState({
    full_name: '',
    company_name: '',
    website: '',
    phone: ''
  });

  // Fetch profile when modal opens
  useEffect(() => {
    if (isOpen && user) {
      getProfile();
    }
  }, [isOpen, user]);

  const getProfile = async () => {
    try {
      setFetching(true);
      if (!user) return;

      const { data, error } = await supabase
        .from('profiles')
        .select('full_name, company_name, website, phone')
        .eq('id', user.id)
        .single();

      if (error && error.code !== 'PGRST116') { // PGRST116 is "Row not found", which is fine for new users
        throw error;
      }

      if (data) {
        setProfileData({
          full_name: data.full_name || '',
          company_name: data.company_name || '',
          website: data.website || '',
          phone: data.phone || ''
        });
      }
    } catch (error) {
      console.error('Error fetching profile', error);
    } finally {
      setFetching(false);
    }
  };

  const updateProfile = async (e: React.FormEvent) => {
    e.preventDefault();
    try {
      setLoading(true);
      if (!user) return;

      const updates = {
        id: user.id,
        ...profileData,
        updated_at: new Date().toISOString(),
      };

      const { error } = await supabase.from('profiles').upsert(updates);

      if (error) {
        throw error;
      }
      alert('Profile updated successfully!');
    } catch (error: any) {
      alert(error.message);
    } finally {
      setLoading(false);
    }
  };

  const handleSignOut = async () => {
    await signOut();
    onClose();
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setProfileData(prev => ({
      ...prev,
      [e.target.name]: e.target.value
    }));
  };

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 modal-overlay">
      <div 
        className="bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl shadow-2xl relative modal-content overflow-hidden flex flex-col max-h-[90vh]" 
        onClick={(e) => e.stopPropagation()}
      >
        {/* Header */}
        <div className="p-6 border-b border-slate-800 flex justify-between items-center bg-gradient-to-r from-slate-900 to-slate-800">
          <div>
            <h3 className="text-xl font-bold text-white font-display">Client Portal</h3>
            <p className="text-sm text-slate-400">{user?.email}</p>
          </div>
          <button onClick={onClose} className="p-2 hover:bg-slate-700 rounded-full text-slate-400 hover:text-white transition-colors">
            <X className="w-6 h-6" />
          </button>
        </div>

        {/* Body */}
        <div className="p-8 overflow-y-auto custom-scrollbar">
          {fetching ? (
            <div className="flex justify-center py-12">
              <Loader2 className="w-8 h-8 animate-spin text-primary-500" />
            </div>
          ) : (
            <form onSubmit={updateProfile} className="space-y-6">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label className="block text-sm font-medium text-slate-300 mb-2">Full Name</label>
                  <div className="relative">
                    <User className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                    <input
                      type="text"
                      name="full_name"
                      value={profileData.full_name}
                      onChange={handleChange}
                      className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-3 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                      placeholder="John Doe"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-slate-300 mb-2">Company Name</label>
                  <div className="relative">
                    <Briefcase className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                    <input
                      type="text"
                      name="company_name"
                      value={profileData.company_name}
                      onChange={handleChange}
                      className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-3 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                      placeholder="Acme Inc."
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-slate-300 mb-2">Website URL</label>
                  <div className="relative">
                    <Globe className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                    <input
                      type="text"
                      name="website"
                      value={profileData.website}
                      onChange={handleChange}
                      className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-3 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                      placeholder="https://example.com"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-slate-300 mb-2">Phone Number</label>
                  <div className="relative">
                    <Phone className="absolute left-3 top-3 w-5 h-5 text-slate-500" />
                    <input
                      type="tel"
                      name="phone"
                      value={profileData.phone}
                      onChange={handleChange}
                      className="w-full bg-slate-950 border border-slate-700 text-white rounded-lg pl-10 pr-4 py-3 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors"
                      placeholder="+1 (555) 000-0000"
                    />
                  </div>
                </div>
              </div>

              <div className="pt-6 border-t border-slate-800 flex items-center justify-between">
                <button
                  type="button"
                  onClick={handleSignOut}
                  className="px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium"
                >
                  <LogOut className="w-4 h-4" /> Sign Out
                </button>

                <button
                  type="submit"
                  disabled={loading}
                  className="bg-primary-600 hover:bg-primary-500 text-white font-semibold py-3 px-8 rounded-lg transition-colors flex items-center gap-2 shadow-[0_0_15px_rgba(59,130,246,0.5)]"
                >
                  {loading ? <Loader2 className="w-5 h-5 animate-spin" /> : <><Save className="w-5 h-5" /> Save Changes</>}
                </button>
              </div>
            </form>
          )}
        </div>
      </div>
    </div>
  );
};

export default ClientPortal;
